Index: src/third_party/websocketpp/websocketpp/error.hpp
--- src/third_party/websocketpp/websocketpp/error.hpp.orig
+++ src/third_party/websocketpp/websocketpp/error.hpp
@@ -140,7 +140,10 @@ enum value {
     unsupported_version,
 
     /// HTTP parse error
-    http_parse_error
+    http_parse_error,
+    
+    /// Extension negotiation failed
+    extension_neg_failed
 }; // enum value
 
 
@@ -216,6 +219,8 @@ class category : public lib::error_category { (public)
                 return "Unsupported version";
             case error::http_parse_error:
                 return "HTTP parse error";
+            case error::extension_neg_failed:
+                return "Extension negotiation failed";
             default:
                 return "Unknown";
         }
@@ -250,7 +255,7 @@ class exception : public std::exception { (public)
     {}
 
     explicit exception(lib::error_code ec)
-      : m_code(ec)
+      : m_msg(ec.message()), m_code(ec)
     {}
 
     ~exception() throw() {}
@@ -263,7 +268,7 @@ class exception : public std::exception { (public)
         return m_code;
     }
 
-    std::string m_msg;
+    const std::string m_msg;
     lib::error_code m_code;
 };
 
